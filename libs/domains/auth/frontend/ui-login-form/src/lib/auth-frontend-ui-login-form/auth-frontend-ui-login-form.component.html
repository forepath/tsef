<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
  <!-- Error Message -->
  <div *ngIf="error" class="error-message" role="alert">
    <span>{{ error }}</span>
    <button type="button" (click)="onClearError()" class="error-close" aria-label="Close error">Ã—</button>
  </div>

  <!-- Username/Email Field -->
  <div class="form-group">
    <label [for]="'username'" class="form-label">
      {{ usernameLabel }}
    </label>
    <input
      type="text"
      id="username"
      formControlName="username"
      class="form-control"
      [class.is-invalid]="isFieldInvalid('username')"
      placeholder="Enter your username or email"
      autocomplete="username"
      [disabled]="loading"
    />
    <div *ngIf="getFieldError('username')" class="invalid-feedback">
      {{ getFieldError('username') }}
    </div>
  </div>

  <!-- Password Field -->
  <div class="form-group">
    <label [for]="'password'" class="form-label">
      {{ passwordLabel }}
    </label>
    <input
      type="password"
      id="password"
      formControlName="password"
      class="form-control"
      [class.is-invalid]="isFieldInvalid('password')"
      placeholder="Enter your password"
      autocomplete="current-password"
      [disabled]="loading"
    />
    <div *ngIf="getFieldError('password')" class="invalid-feedback">
      {{ getFieldError('password') }}
    </div>
  </div>

  <!-- Remember Me Checkbox -->
  <div *ngIf="showRememberMe" class="form-group form-check">
    <input type="checkbox" id="rememberMe" formControlName="rememberMe" class="form-check-input" [disabled]="loading" />
    <label [for]="'rememberMe'" class="form-check-label">
      {{ rememberMeLabel }}
    </label>
  </div>

  <!-- Submit Button -->
  <div class="form-group">
    <button type="submit" class="btn btn-primary btn-block" [disabled]="loginForm.invalid || loading">
      <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
      {{ submitButtonText }}
    </button>
  </div>
</form>
