<div class="docs-layout d-flex flex-column h-100">
  <!-- Header -->
  <header class="docs-header border-bottom bg-dark text-white d-flex align-items-center justify-content-between gap-2">
    <div class="d-flex align-items-center gap-3">
      <button
        type="button"
        class="btn btn-link d-md-none text-white"
        (click)="toggleMobileMenu()"
        aria-label="Toggle navigation"
      >
        <i class="bi bi-list fs-4"></i>
      </button>
      <div class="brand-icon-container me-2 fs-3 bg-primary p-3">
        <img src="assets/images/icon_light.svg" alt="Agenstra" class="brand-icon" />
      </div>
      <a [routerLink]="getBasePath()" class="text-decoration-none text-white">
        <h5 class="mb-0">Documentation</h5>
      </a>
    </div>
    <div class="d-flex align-items-center gap-2">
      <framework-docs-search />
      <a
        class="nav-link text-white ms-3"
        href="https://github.com/forepath/tsef"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="GitHub"
        title="View on GitHub"
      >
        <i class="bi bi-github fs-5"></i>
      </a>
      <div class="form-check form-switch mx-3">
        <input
          class="form-check-input"
          type="checkbox"
          role="switch"
          id="darkModeToggle"
          [checked]="themeService.isDarkMode()"
          (change)="themeService.toggleTheme()"
        />
        <label class="form-check-label text-white" for="darkModeToggle" title="Toggle dark mode">
          <i
            class="bi"
            [class.bi-moon-fill]="!themeService.isDarkMode()"
            [class.bi-sun-fill]="themeService.isDarkMode()"
          ></i>
        </label>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="docs-main flex-grow-1 d-flex overflow-hidden">
    <!-- Sidebar Navigation -->
    <aside class="docs-sidebar border-end" [class.mobile-open]="mobileMenuOpen()">
      <div class="docs-sidebar-content">
        <framework-docs-navigation [navigationNodes]="navigationNodes()!" />
      </div>
      @if (mobileMenuOpen()) {
        <div class="docs-sidebar-overlay" (click)="closeMobileMenu()"></div>
      }
    </aside>

    <!-- Content Area -->
    <div class="docs-content-area-container overflow-auto flex-grow-1 h-100">
      <main class="docs-content-area">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</div>
