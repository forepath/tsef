---
globs: "**/keycloak-theme/**/*.ftl, **/keycloak-theme/**/*.html, **/keycloak-theme/**/*.scss"
alwaysApply: false
---

# Keycloak Theme Rules

This ruleset governs Keycloak theme templates and styles. It focuses on presentation and consistency with frontend branding.

> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" are as described in RFC 2119.

## Separation of Concerns

- Theme templates **MUST NOT** contain business logic; only presentation and Keycloak-provided variables.
- Reusable partials and macros **SHOULD** be used to avoid duplication.

## Styling

- Styles **MUST** use SCSS and follow the shared design system tokens where available.
- Customizations **SHOULD** be scoped to avoid leaking into Keycloak admin UI.

## Accessibility & i18n

- Templates **MUST** be accessible (labels, roles, contrast) and support Keycloak i18n placeholders.

## Testing & Preview

- Changes **SHOULD** be validated against multiple Keycloak versions/environments and checked visually.

## Examples

```ftl
<#-- login.ftl -->
<form id="kc-form-login" action="${url.loginAction}" method="post" aria-label="${msg("doLogIn")}">
  <label for="username">${msg("username")}</label>
  <input id="username" name="username" type="text" />
  <label for="password">${msg("password")}</label>
  <input id="password" name="password" type="password" />
  <button type="submit" class="btn btn-primary">${msg("doLogIn")}</button>
</form>
```

```scss
// _colors.scss
$kc-primary: #0052cc;
button.btn-primary { background: $kc-primary; }
```
